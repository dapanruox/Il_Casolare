CREATE TABLE Plat(
   Id_plat INT,
   Nom VARCHAR(50),
   Prix INT,
   PRIMARY KEY(Id_plat)
);

CREATE TABLE Ingredient(
   Id_ingredient VARCHAR(50),
   Nom VARCHAR(50),
   PRIMARY KEY(Id_ingredient)
);

CREATE TABLE Horaire(
   Id_horaire INT,
   Jour VARCHAR(50),
   Heure_ouverture TIME,
   Heure_fermeture TIME,
   Type_service VARCHAR(50),
   PRIMARY KEY(Id_horaire)
);

CREATE TABLE Reservation(
   id_reservation INT,
   Nombre_personnes INT,
   Date_heure DATETIME,
   PRIMARY KEY(id_reservation)
);

CREATE TABLE Utilisateur(
   Id_utilisateur INT,
   Admin LOGICAL,
   Nom VARCHAR(50),
   Mot_de_passe VARCHAR(50),
   Mail VARCHAR(50),
   Num_Telephone INT,
   id_reservation INT NOT NULL,
   PRIMARY KEY(Id_utilisateur),
   FOREIGN KEY(id_reservation) REFERENCES Reservation(id_reservation)
);

CREATE TABLE Table_Res(
   Numero INT,
   Table_interieur LOGICAL,
   Nb_places_max INT,
   id_reservation INT NOT NULL,
   PRIMARY KEY(Numero),
   FOREIGN KEY(id_reservation) REFERENCES Reservation(id_reservation)
);

CREATE TABLE Restaurant(
   Id_restaurant INT,
   Lieu VARCHAR(50),
   Nombre_tables_dispo INT,
   id_reservation INT NOT NULL,
   Numero INT NOT NULL,
   PRIMARY KEY(Id_restaurant),
   FOREIGN KEY(id_reservation) REFERENCES Reservation(id_reservation),
   FOREIGN KEY(Numero) REFERENCES Table_Res(Numero)
);

CREATE TABLE Il_casolare(
   Id INT,
   Id_utilisateur INT NOT NULL,
   Id_restaurant INT NOT NULL,
   PRIMARY KEY(Id),
   FOREIGN KEY(Id_utilisateur) REFERENCES Utilisateur(Id_utilisateur),
   FOREIGN KEY(Id_restaurant) REFERENCES Restaurant(Id_restaurant)
);

CREATE TABLE CONCEVOIR(
   Id_restaurant INT,
   Id_plat INT,
   PRIMARY KEY(Id_restaurant, Id_plat),
   FOREIGN KEY(Id_restaurant) REFERENCES Restaurant(Id_restaurant),
   FOREIGN KEY(Id_plat) REFERENCES Plat(Id_plat)
);

CREATE TABLE COMPOSER(
   Id_plat INT,
   Id_ingredient VARCHAR(50),
   PRIMARY KEY(Id_plat, Id_ingredient),
   FOREIGN KEY(Id_plat) REFERENCES Plat(Id_plat),
   FOREIGN KEY(Id_ingredient) REFERENCES Ingredient(Id_ingredient)
);

CREATE TABLE DISPOSER(
   Id_restaurant INT,
   Id_horaire INT,
   PRIMARY KEY(Id_restaurant, Id_horaire),
   FOREIGN KEY(Id_restaurant) REFERENCES Restaurant(Id_restaurant),
   FOREIGN KEY(Id_horaire) REFERENCES Horaire(Id_horaire)
);
